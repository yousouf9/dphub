extends ../admin_layout

block content
    .container
        .row.gutters-sm
            .col-md-4.mb-3
                .profile-img.shadow-sm.p-3.mb-5.bg-white.rounded
                    img(src=`${ user.profile_image === 'noimage.png' ? `/images/users/${user.profile_image}`: `${user.profile_image}` }` alt='user profile picture')
                    form(method="post" action=`/user/profile/image/${user._id}` enctype='multipart/form-data')
                        .file.btn.btn-lg.btn-primary
                            | Change Photo
                            input(type='file' name='profile_image' onchange="this.form.submit()" accept=".jpg,.jpeg,.png")
                .shadow-sm.p-3.mb-5.bg-white.rounded
                    form(method="post" action=`/user/profile/social/${user._id}`)
                        .form-group
                            label(for='facebook') facebook
                            input.form-control.form-control-sm(type="url" name="facebook" value=`${user.social ? user.social.facebook: ''}`  placeholder="https://www.facebook.com/jacob_kalid123")
                        .form-group
                            label(for='twitter') twitter
                            input.form-control.form-control-sm(type="url" name="twitter" value=`${user.social ? user.social.twitter: ''}` placeholder="https://www.twitter.com/jacob_kalid123")
                        .form-group
                            label(for='linkin') google plus
                            input.form-control.form-control-sm(type="url" name="google" value=`${user.social ? user.social.google: ''}`  placeholder="https://www.google.com/jacob_kalid123")
                        .form-group
                            label(for='instagram') instagram
                            input.form-control.form-control-sm(type="url" name="instagram" value=`${user.social ? user.social.instagram: ''}`  placeholder="https://www.instagram.com/jacob_kalid123")
                        input.btn.btn-md.btn-success.mb-2(name="submit" type="submit" value="save")
            .col-md-8
                .shadow-sm.p-3.mb-5.bg-white.rounded
                    form(method="post" action=`/user/profile/personal/${user._id}`)
                        .form-group.row
                            label.col-sm-2.col-form-label.col-form-label-sm.required(for='name') Name
                            .col-sm-10
                                input.form-control.form-control-sm(type='text' name="name" id="name" value=`${user.name}` required)
                                label.error-message
                        .form-group.row
                            label.col-sm-2.col-form-label.col-form-label-sm(for='phone') Phone
                            .col-sm-10
                                input.form-control.form-control-sm(type='text' name="phone" value=`${user.phone ? user.phone:'' }`)
                        .form-group.row
                            label.col-sm-2.col-form-label.col-form-label-sm(for='whatsapp') Whatsapp
                            .col-sm-10
                                input.form-control.form-control-sm(type='text' name="whatsapp" value=`${user.whatsapp ? user.whatsapp : ""}`)
                        .form-group.row
                            label.col-sm-2.col-form-label.col-form-label-sm.required(for='email') Email
                            .col-sm-10
                                input.form-control.form-control-sm(type='email' name="email" id="email" value=`${user.email ? user.email : ""}` required)
                                label.error-message
                        .form-group.row
                            label.col-sm-2.col-form-label.col-form-label-sm.required(for='about') About
                            .col-sm-10
                                textarea.form-control(name='about' rows='3' id="about"  required spellcheck="true") #{user.about ? user.about : ""}
                                label.error-message
                        .form-group.row
                            label.col-sm-2.col-form-label.col-form-label-sm(for='submit') 
                            .col-sm-10
                                input.btn.btn-block.btn-outline-success(type='submit' value="Update")
                
                     
                
                .shadow-sm.p-3.mb-5.bg-white.rounded
                    form(method="post" action=`/user/profile/hide/${user._id}`)
                        .form-group.row
                            label.col-sm-4.col-form-label.col-form-label-sm Age
                            .col-sm-8
                                .custom-control.custom-switch
                                    input#age.custom-control-input.profile-switch(type='checkbox' name="age" value=`${personal.dob.show ? 'on' : ''}`)
                                    label.custom-control-label(for='age') Show/Hide
                        .form-group.row
                            label.col-sm-4.col-form-label.col-form-label-sm Marital Status
                            .col-sm-8
                                .custom-control.custom-switch
                                    input#status.custom-control-input.profile-switch(type='checkbox' name="status" value=`${personal.marital_status.show ? 'on' : ''}`)
                                    label.custom-control-label(for='status') Show/Hide
                        .form-group.row
                            label.col-sm-4.col-form-label.col-form-label-sm Sex
                            .col-sm-8
                                .custom-control.custom-switch
                                    input#sex.custom-control-input.profile-switch(type='checkbox' name="sex" value=`${personal.sex.show ? 'on' : ''}`)
                                    label.custom-control-label(for='sex') Show/Hide
                        .form-group.row
                            label.col-sm-4.col-form-label.col-form-label-sm State of origin
                            .col-sm-8
                                .custom-control.custom-switch
                                    input#origin.custom-control-input.profile-switch(type='checkbox' name="origin" value=`${personal.state.show ? 'on' : ''}`)
                                    label.custom-control-label(for='origin') Show/Hide
                        .form-group.row
                            label.col-sm-4.col-form-label.col-form-label-sm Camp
                            .col-sm-8
                                .custom-control.custom-switch
                                    input#camp.custom-control-input.profile-switch(type='checkbox' name="camp" value=`${displacement.place_residence.show ? 'on' : ''}`)
                                    label.custom-control-label(for='camp') Show/Hide
                        .form-group.row
                            label.col-sm-4.col-form-label.col-form-label-sm Year of Displacement
                            .col-sm-8
                                .custom-control.custom-switch
                                    input#yod.custom-control-input.profile-switch(type='checkbox' name="yod" value=`${displacement.yod.show ? 'on' : ''}`)
                                    label.custom-control-label(for='yod') Show/Hide
                        .form-group.row
                            label.col-sm-4.col-form-label.col-form-label-sm YEARS OF EXPERIENCE
                            .col-sm-8
                                .custom-control.custom-switch
                                    input#yoe.custom-control-input.profile-switch(type='checkbox' name="yoe" value=`${skill.yoe.show ? 'on' : ''}`)
                                    label.custom-control-label(for='yoe') Show/Hide
                        .form-group
                            input.btn.btn-block.btn-outline-success(type='submit' value="Update")